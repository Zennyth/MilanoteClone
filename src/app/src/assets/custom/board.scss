// Dimensions
$dot-size: 1px;
$dot-space: 22px;

:root {
	--board-background-color: #F2F2F5;
}

.layout-main {
	display: flex;
	height: 100%;

	&-container {
		height: calc(100vh - 6rem);
	}

	main {
		width: 100%;
		height: 100%;
		background-color: var(--board-background-color);
	}
}


.canvas {
	&-section {
		display: flex;
		overflow: hidden;
		position: relative;
		width: 100%;
		height: 100%;
	}

	&-viewport {
		--scroll-size: 6px;
		--scroll-radius: 10px;

		position: relative;
		width: 100%;
		-webkit-overflow-scrolling: touch;
		-webkit-touch-callout: none;
		overflow-x: hidden;
		overflow-x: auto;
		overflow-y: auto;
		-ms-touch-action: pan-x pan-y;
		touch-action: pan-x pan-y;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		overflow: auto;

		&.grabbing {
			cursor: grabbing;
		}

		&::-webkit-scrollbar-thumb {
			background-color: var(--text-color);
			border-radius: var(--scroll-radius);
		}

		&::-webkit-scrollbar-track,
		&::-webkit-scrollbar-corner {
			background-color: var(--board-background-color);
			border-radius: var(--scroll-radius);
		}

		&::-webkit-scrollbar {
			width: var(--scroll-size, 10px);
			height: var(--scroll-size, 10px);
			background-color: transparent;
		}
	}

	&-scroll-area {
		min-width: 100vw;
		min-height: calc(100vh - 6rem);
		overflow: hidden;
		position: relative;

		display: flex;

		.mouse {
			width: 24px;
			height: 24px;
			-webkit-mask-image: url('/src/assets/imgs/cursor.png');
			position: absolute;
			z-index: 10000;
		}
	}
}

.board {
	min-width: 100vw;
	min-height: calc(100vh - 6rem);
	position: absolute;
	transform-origin: top left;
	overflow: hidden;
	user-select: none;
	perspective: 1500px;

	&.grid {
		background: linear-gradient(90deg, var(--board-background-color) 21px, transparent 1%) center,
			linear-gradient(var(--board-background-color) 21px, transparent 1%) center, var(--text-color);
		background-size: $dot-space $dot-space;
		background-position: 0 0, 22px 22px;
		margin: 0;
	}

	&-component {
		display: flex;

		transition-duration: 300ms;
		transition-property: transform, box-shadow;
		transition-timing-function: ease-out;
		transform: rotate3d(0);

		&.dragged {
			transition-duration: 150ms;
			box-shadow: 0 5px 20px 5px #00000044;
		}

		&.selected {
			outline: 2px solid var(--primary-color);
			outline-offset: -2px;
		}
	}
}